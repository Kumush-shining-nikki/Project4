
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OZBE</title>

<!-- Swiper CSS -->
{{!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" /> --}}
<!-- Swiper JS -->
{{!-- <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script> --}}

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
  <link rel="stylesheet" href="/user-page/css/style.css" />
  <link rel="stylesheet" href="/user-page/css/loading.css">
  <link rel="stylesheet" href="/user-page/css/search.css">
  <style>
    html, body {
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* ❗️Yon scrollni yo‘q qiladi */
}
  .swiper {
  padding-top: 50px;
  padding-bottom: 50px;
}

.swiper-slide {
  width: 250px; /* <-- bu muhim! */
  {{!-- height: 350px; --}}
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  transition: transform 0.3s ease;
}

.swiper-slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.swiper-slide-active {
  transform: scale(1.1);
  z-index: 2;
}

</style>

</head>

<body>
  <div class="preloader" id="preloader">
    <div class="loader-wrapper">
      <span class="loader"></span>
    </div>
  </div>

  <div id="main-content" style="display: none; text-align: center; color: white;">
    <header>
      <div class="announcement-bar">
        <button class="prev">&#10094;</button>
        <p>OZBE HUSH KELIBSIZ!</p>
        <button class="next">&#10095;</button>
      </div>

      <nav class="navbar">
        <ul class="nav-links nav nav-underline">
          <a href="/home" class="logo"><img src="/images/logo.png" class="logo" alt="logo" /></a>
          <li class="nav-item"><a class="nav-link active" href="/home">Asosiy</a></li>
          <li class="nav-item"><a class="nav-link active" href="/shop">Do'kon</a></li>
          <li class="nav-item"><a class="nav-link active" href="contact.html">Aloqa</a></li>
        </ul>
        <div class="icons">
          <a id="openSearch"><i class="fas fa-search"></i></a>
          <div id="searchModal" class="modal">
            <div class="modal-content">
              <span id="closeModal" class="close">&times;</span>
              <input type="text" placeholder="Search here..." class="search-input" />
              <button class="submit-btn">Search</button>
            </div>
          </div>
          <a href="/login"><i class="fa-regular fa-user"></i></a>
          <a href="cart.html"><i class="fa-solid fa-bag-shopping"></i></a>
        </div>
      </nav>
    </header>

<div class="slide">
  <div class="swiper mySwiper custom-slider">
    <div class="swiper-wrapper" id="dynamic-slides">
      <!-- Fetch orqali JS bu yerga joylaydi -->
    </div>
    
    <!-- Navigatsiya -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>
</div>



    <!-- CATEGORY -->
    <h2>BIR KIYIMLARNI KO'RIB CHIQINCHI!</h2>
    <div class="acc-wraper">
      <div class="accordion" id="category-images">
        <!-- JS orqali rasm joylanadi -->
      </div>
    </div>

    <!-- YANGI MAHSULOTLAR -->
<h2>Yangilaridan</h2>
<div class="swiper productSwiper">
  <div class="swiper-wrapper" id="productSwiperWrapper">
    <!-- JavaScript orqali productlar shu yerga qo‘shiladi -->
  </div>
  <div class="actions">
    <div class="swiper-btn swiper-button-prev"></div>
    <div class="swiper-pagination"></div>
    <div class="swiper-btn swiper-button-next"></div>
  </div>
</div>








<!-- FAQ -->
    <div class="shopify-section shopify-section-group-footer-group">
      <div class="rb-faq-shopify-section">
        <h1 style="text-align: center; padding: 20px 20px 0px 20px; color: #222;"> KO'P BERILADIGAN SAVOLLAR </h1>
        <div class="rb-faq-container">
          <div class="rb-faq-container-item">
            <input style="display:none!important;" type="checkbox" id="tab1" class="tab-toggle">
            <label for="tab1" class="rb-faq-question">Buyurtma qancha vaqt ichida yetib keladi?</label>
            <div class="rb-faq-answer">
              <p>Yetkazib berish muddati 1 kundan 4 kungacha.</p>
              <p>Yetkazib berish narxi - 35000 so'm.</p>
              <p>Tez yetkazib berish uchun siz buyurtma berib +998978666333 raqamiga qo'ng'iroq qilishingiz kerak bo'ladi.</p>
            </div>
          </div>
          <div class="rb-faq-container-item">
            <input style="display:none!important;" type="checkbox" id="tab2" class="tab-toggle">
            <label for="tab2" class="rb-faq-question">O'lchamlar bo'yicha malumot bera olasizmi?</label>
            <div class="rb-faq-answer">
              <p>Kiyimlari ikki standart bo'lmagan o'lchamlarida mavjud.</p>
              <p>S o'lchami – bo'yi 160-175 sm.</p>
              <p>L o'lchami – bo'yi 176-190 sm.</p>
            </div>
          </div>
        </div>

        <!-- CONTACT INFO -->
        <div class="inner-column">
          <h2>Aloqa ma'lumotlari</h2>
          <ul class="list-info">
            <li><i class="fas fa-globe"></i>123 lorem ispum Abc, Street, Chandigarh.</li>
            <li><i class="far fa-envelope"></i>example@test</li>
            <li><i class="fas fa-phone"></i>1-234-567-890 <br />1-234-567-890</li>
          </ul>
          <ul class="social-icon-four">
            <li class="follow">Ozbe ijtimoiy tarmoqlarda:</li>
            <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
            <li><a href="#"><i class="fab fa-twitter"></i></a></li>
            <li><a href="#"><i class="fab fa-google-plus-g"></i></a></li>
            <li><a href="#"><i class="fab fa-dribbble"></i></a></li>
            <li><a href="#"><i class="fab fa-pinterest-p"></i></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  {{!-- <script src="/user-page/js/script.js"></script> --}}
  <script src="/user-page/js/loading.js"></script>
  <script src="/user-page/js/search.js"></script>
  <script src="/user-page/js/index.js"></script>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  async function loadProductSlides() {
    const wrapper = document.getElementById("productSwiperWrapper");
    if (!wrapper) {
      console.error("productSwiperWrapper topilmadi.");
      return;
    }

    try {
      const response = await fetch("http://localhost:7000/products");
      const products = await response.json();

      wrapper.innerHTML = '';

      products.forEach(product => {
        const imgSrc = product.images || 'images/default.jpg';
        const name = product.name || 'Nomsiz';

        const slide = document.createElement('div');
        slide.className = 'swiper-slide';
        slide.innerHTML = `
          <img src="${imgSrc}" alt="${name}">
          <h3>${name}</h3>
        `;
        wrapper.appendChild(slide);
      });

      new Swiper(".productSwiper", {
        slidesPerView: 3,
        spaceBetween: 20,
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        breakpoints: {
          640: { slidesPerView: 1 },
          768: { slidesPerView: 2 },
          1024: { slidesPerView: 3 },
          1280: { slidesPerView: 4 }
        }
      });

    } catch (error) {
      console.error("Xatolik:", error);
    }
  }

  document.addEventListener("DOMContentLoaded", loadProductSlides);
</script>







</body>
</html>